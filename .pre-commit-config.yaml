default_install_hook_types: [pre-commit, pre-push]

repos:
  - repo: local
    hooks:
      - id: gofmt
        name: gofmt (auto-fix)
        entry: gofmt -w
        language: system
        types: [go]

      - id: go-test
        name: go test ./...
        entry: go test ./...
        language: system
        pass_filenames: false
        stages: [pre-commit]

      - id: go-test-push
        name: go test ./... (pre-push)
        entry: go test ./...
        language: system
        pass_filenames: false
        stages: [pre-push]
